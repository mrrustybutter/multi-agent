# ============================================
# Rusty Butter Multi-Agent System Configuration
# ============================================
# Copy this file to .env and fill in your values
# All services read from this centralized configuration

# ============================================
# CORE SYSTEM CONFIGURATION
# ============================================

# Orchestrator API Server
ORCHESTRATOR_PORT=8742  # Obscure port for security
ORCHESTRATOR_HOST=localhost
ORCHESTRATOR_URL=http://localhost:8742  # Full URL for monitors to connect

# Maximum concurrent Claude instances
MAX_CLAUDE_INSTANCES=10

# Node Environment
NODE_ENV=development  # development, production

# ============================================
# AI PROVIDER CREDENTIALS (REQUIRED)
# ============================================

# Anthropic Claude - Required for spawning Claude instances
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229  # Opus model for best quality

# ElevenLabs - Required for text-to-speech
ELEVEN_API_KEY=your_elevenlabs_api_key_here
ELEVEN_VOICE_ID=your_preferred_voice_id  # Optional, uses default if not set

# OpenAI - Optional, for alternate LLM tasks
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# Google Gemini - Fast and efficient for social tasks
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-1.5-flash-002

# Grok (X.AI) - For Twitter/X interactions
GROK_API_KEY=your_grok_api_key_here
GROK_MODEL=grok-beta

# Groq - Ultra-fast inference for real-time tasks
GROQ_API_KEY=your_groq_api_key_here

# OpenRouter - Access to multiple models
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Cerebras - Ultra-fast inference
CEREBRAS_API_KEY=your_cerebras_api_key_here

# Local LLM - Optional, for privacy-sensitive tasks
LOCAL_LLM_URL=http://localhost:11434
LOCAL_LLM_MODEL=llama2

# ============================================
# PLATFORM CREDENTIALS
# ============================================

# Discord Bot
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_GUILD=your_discord_guild_id_here
DISCORD_VOICE_CHANNEL=your_voice_channel_id  # Optional

# Twitch Bot
TWITCH_USERNAME=your_twitch_bot_username
TWITCH_OAUTH=oauth:your_twitch_oauth_token
TWITCH_CHANNEL=codingbutter  # Channel to monitor
TWITCH_CLIENT_ID=your_twitch_client_id  # For API access

# Social Media APIs (Optional)
X_API_KEY=your_x_api_key
X_API_SECRET_KEY=your_x_api_secret
X_ACCESS_TOKEN=your_x_access_token
X_ACCESS_TOKEN_SECRET=your_x_access_token_secret
X_BEARER_TOKEN=your_x_bearer_token

REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USERNAME=your_reddit_username
REDDIT_PASSWORD=your_reddit_password

INSTAGRAM_USERNAME=your_instagram_username
INSTAGRAM_PASSWORD=your_instagram_password

# ============================================
# MCP SERVER PATHS
# ============================================

# These are relative to the home directory
# Adjust if your repos are in different locations
RUSTYBUTTER_AVATAR_PATH=~/GitHub/rusty-butter/packages/rustybutter-avatar/packages/mcp-server/dist/index.js
ELEVENLABS_MCP_PATH=~/GitHub/rusty-butter/packages/elevenlabs-streaming/packages/mcp-server/dist/index.js

# ============================================
# SYSTEM PATHS AND DIRECTORIES
# ============================================

# Logging
LOG_LEVEL=info  # debug, info, warn, error
LOG_DIR=./logs
LOG_MAX_FILES=14d  # Keep logs for 14 days
LOG_MAX_SIZE=20m  # Max size per log file

# Queue System (legacy, kept for compatibility)
QUEUE_DIR=./queues
QUEUE_CLEANUP_INTERVAL=300000  # 5 minutes in ms

# Memory Storage
MEMORY_DIR=./memory
SEMANTIC_MEMORY_URL=  # Leave empty for local storage

# ============================================
# MONITOR CONFIGURATION
# ============================================

# Event Processing
MONITOR_SPAWN_COOLDOWN=2000  # ms between event submissions
MONITOR_MIN_MESSAGE_LENGTH=3  # Minimum message length to process
MONITOR_KEYWORD_TRIGGERS=rusty,butter,claude,ai,help  # Comma-separated keywords

# Priority Thresholds
PRIORITY_SUBSCRIBER_BOOST=true  # Give subscribers higher priority
PRIORITY_MOD_BOOST=true  # Give mods higher priority
PRIORITY_VIP_BOOST=true  # Give VIPs higher priority

# ============================================
# ORCHESTRATOR CONFIGURATION
# ============================================

# Queue Processing
ORCHESTRATOR_QUEUE_CONCURRENCY=5  # Concurrent event processing
ORCHESTRATOR_QUEUE_CHECK_INTERVAL=5000  # ms between queue checks

# Task Routing (which LLM provider for which task type)
TASK_ROUTING_CHAT=anthropic
TASK_ROUTING_CODE=anthropic
TASK_ROUTING_SOCIAL=openai
TASK_ROUTING_MEMORY=local
TASK_ROUTING_CREATIVE=openai

# Priority Weights
PRIORITY_WEIGHT_CRITICAL=1000
PRIORITY_WEIGHT_HIGH=100
PRIORITY_WEIGHT_MEDIUM=10
PRIORITY_WEIGHT_LOW=1

# ============================================
# PM2 PROCESS MANAGEMENT
# ============================================

PM2_MAX_MEMORY_RESTART=500M
PM2_MIN_UPTIME=10s
PM2_MAX_RESTARTS=5
PM2_RESTART_DELAY=4000  # ms between restarts

# ============================================
# DEVELOPMENT & DEBUG SETTINGS
# ============================================

# Debug Mode - Enables verbose logging
DEBUG=false

# Test Mode - Uses mock services
TEST_MODE=false

# Dry Run - Processes but doesn't execute actions
DRY_RUN=false

# Development URLs (for local testing)
DEV_ORCHESTRATOR_URL=http://localhost:8742
DEV_PLAYWRIGHT_SSE_URL=http://localhost:3456
DEV_DISCORD_TOOLS_URL=http://localhost:3457

# ============================================
# SECURITY SETTINGS
# ============================================

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001  # Comma-separated

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX_REQUESTS=100

# API Authentication (optional)
API_KEY=  # Set to require API key for orchestrator endpoints
API_KEY_HEADER=X-API-Key

# ============================================
# STREAMING & OBS CONFIGURATION
# ============================================

OBS_WEBSOCKET_URL=ws://localhost:4455
OBS_WEBSOCKET_PASSWORD=your_obs_password

# ============================================
# NOTES
# ============================================
# 1. Never commit your actual .env file to version control
# 2. Keep your API keys secure and rotate them regularly
# 3. Use strong, unique passwords for all services
# 4. The orchestrator port (8742) was chosen to be non-standard for security
# 5. Adjust paths if your directory structure differs